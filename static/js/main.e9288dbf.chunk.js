(this.webpackJsonpcognite_proj=this.webpackJsonpcognite_proj||[]).push([[0],{28:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(21),s=n.n(a),c=n(1),i=n.n(c),o=n(12),l=n(3),h=(n(28),n(8)),j=n(9),u=n(11),m=n(10),d=n(6),b=[{id:"2",name:"Bob Smith",img:"https://randomuser.me/api/portraits/men/12.jpg",online:!0,welcomeMessage:"Hey there! Love to chat :-)",role:"Member"},{id:"3",name:"Jerry Townsend",img:"https://randomuser.me/api/portraits/men/34.jpg",online:!1,welcomeMessage:"Hey there! Love to chat :-)",role:"Member"},{id:"4",name:"Hannah Grace",img:"https://randomuser.me/api/portraits/women/23.jpg",online:!0,welcomeMessage:"Hey there! Love to chat :-)",role:"Member"},{id:"5",name:"Stephanie Humphrey",img:"https://randomuser.me/api/portraits/women/51.jpg",online:!0,welcomeMessage:"Hey there! Love to chat :-)",role:"Member"}],p=function(e){var t=e.user,n=e.chatToUser,a=e.onlineStatus;return Object(r.jsxs)("li",{className:"user",children:[Object(r.jsx)("img",{src:t.img,alt:t.name}),Object(r.jsxs)("div",{className:"user-info",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:t.name}),Object(r.jsx)("p",{className:"status ".concat(a),children:a})]}),n?Object(r.jsx)("button",{onClick:function(){return n(t)},children:"Message"}):null]})]},t.id)},O=function(e){var t=e.chatToUser;return Object(r.jsx)("section",{className:"friends",children:Object(r.jsx)("ul",{children:b.map((function(e){var n=e.online?"online":"offline";return Object(r.jsx)(p,{user:e,chatToUser:t,onlineStatus:n},e.id)}))})})},x=function(){return Object(r.jsx)("nav",{children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(o.b,{to:"/friends",children:"My Friends"})}),Object(r.jsx)("li",{children:Object(r.jsx)(o.b,{to:"/messaging",children:"Messaging"})}),Object(r.jsx)("li",{children:Object(r.jsx)(o.b,{to:"/",onClick:function(){localStorage.removeItem("currentUser")},children:"Logout"})})]})})},g=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e,r;Object(h.a)(this,n),(e=t.call(this)).handleChatToUser=function(t){var n=e.state.currentUser;d.a.ready.then((function(){var r=new d.a.User(n),a=new d.a.User(t);window.talkSession=new d.a.Session({appId:"t39Gmw8k",me:r});var s=d.a.oneOnOneId(r,a),c=window.talkSession.getOrCreateConversation(s);c.setParticipant(r),c.setParticipant(a),e.chatbox=window.talkSession.createChatbox(c),e.chatbox.mount(e.container)})).catch((function(e){return console.error(e)}))};var a=localStorage.getItem("currentUser");return a&&(r=JSON.parse(a)),e.state={messages:[],currentUser:r},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this,t=this.state.currentUser;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(x,{}),Object(r.jsx)("section",{children:t&&Object(r.jsx)(p,{user:t,chatToUser:!1,onlineStatus:!0})}),Object(r.jsxs)("section",{className:"messenger-window",children:[Object(r.jsx)(O,{chatToUser:this.handleChatToUser}),Object(r.jsx)("div",{className:"chatbox-container",ref:function(t){return e.container=t},children:Object(r.jsx)("div",{id:"talkjs-container",style:{height:"300px"},children:Object(r.jsx)("i",{})})})]})]})}}]),n}(i.a.Component),f=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).handleSubmit=function(t){t.preventDefault();var n=Math.ceil(1e4*Math.random()),r={name:e.state.name,id:n,online:!0,role:"Member",img:"https://talkjs.com/docs/img/ronald.jpg"};localStorage.setItem("currentUser",JSON.stringify(r)),e.setState({userData:r}),e.props.history.push("/friends")},e.handleInputChange=function(t){e.setState({name:t.target.value})},e.state={name:"",userData:{}},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this.state.name;return Object(r.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(r.jsx)("h3",{children:"Profile Creation"}),Object(r.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(r.jsx)("input",{type:"text",onChange:this.handleInputChange,placeholder:"Please enter a name...",required:!0,value:e,name:"name",id:"name"}),Object(r.jsx)("button",{type:"submit",disabled:!e.length||"",children:"Submit"})]})}}]),n}(i.a.Component),v=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(e){var r,a;Object(h.a)(this,n),r=t.call(this,e);var s=localStorage.getItem("currentUser");return s&&(a=JSON.parse(s)),r.state={currentUser:a},r}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;d.a.ready.then((function(){var t=new d.a.User(e.state.currentUser);window.talkSession=new d.a.Session({appId:"t39Gmw8k",me:t}),e.inbox=window.talkSession.createInbox(),e.inbox.mount(e.container)})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e=this;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(x,{}),Object(r.jsx)("div",{style:{height:"500px"},className:"inbox-container",ref:function(t){return e.container=t},children:"Loading..."})]})}}]),n}(i.a.Component),w=function(){return Object(r.jsx)("main",{children:Object(r.jsxs)(o.a,{children:[Object(r.jsx)("header",{className:"main-header",children:Object(r.jsx)("h1",{children:"Messenger Application"})}),Object(r.jsx)(l.a,{path:"/",exact:!0,component:f}),Object(r.jsx)(l.a,{path:"/friends",component:g}),Object(r.jsx)(l.a,{path:"/messaging",component:v})]})})};s.a.render(Object(r.jsx)(w,{}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.e9288dbf.chunk.js.map